# What's New in Penpoint 1.0.9

## üéâ New Features

### Export from Book Selector
Export any book to markdown directly from the book selection screen without opening it first. Right-click a book and select "Export" to launch the export wizard.

## üíÖ Improvements

### Relationship Map Overhaul
Completely revamped the relationship map with smarter community detection that groups closely connected characters together, new sort options (by name, importance, or connection count), improved filter dropdowns that no longer cause layout shifts, and significantly faster rendering performance when navigating between characters.

### Smarter Phrase Search
The Glorious Searchbar now understands when you're searching for phrases! Multi-word searches like "devoted to his wife" find exact phrase matches first, showing you the precise context where those words appear together rather than scattered occurrences.

### Progressive Search Highlighting
Search results now highlight your query as you type, growing the highlight as you complete words. It feels like the search is reading your mind and already knows what you're looking for.

### Accurate Search Snippets
Search result snippets now always show content from the field where your match was actually found. No more seeing a "Notes" label but Bio content in the preview.

### Performance Improvements
- **Faster startup** - Optimized announcement system to prevent duplicate server requests during app launch
- **Smoother Relationship Map loading** - Eliminated stuttering during the initial animation when first opening the Relationship Map
- **Faster text editing** - Eliminated typing lag when editing characters, locations, or chapters with lots of content; search index updates now happen in the background instead of blocking each keystroke

## üêõ Bug Fixes

### Trait Option Deletion
Fixed bug where deleting trait options in Traits Manager would show success message but options would remain. Options now properly delete from the database.

### Search with Punctuation
Fixed search errors when queries contain periods, commas, or other punctuation. Searching for "Dr. Watson" or "Holmes, Sherlock" now works correctly.

### Search Result Stability
Fixed visual flickering in search results when typing. Results no longer jump or resize as you add spaces between words.

### Book Selector State on Refresh
Fixed issue where refreshing or restarting the app after returning to the book selector would incorrectly reopen the last book. App now correctly stays on the book selector when that was your last location.

### Chapter Details Live Updates
Fixed issue where adding or removing characters, locations, items, or POV selections in chapter edit mode wouldn't show in the UI until page refresh. Changes now appear immediately.

### Announcements System
- "View All Announcements" button now correctly navigates to Settings ‚Üí Announcements
- Fixed error that could occur on startup if the local announcements cache was empty or corrupted

### Note Search Results
Clicking on a note in search results now navigates directly to that note instead of just opening the Notebook page.

---

Thank you for using Penpoint! We hope these improvements help you organize your stories more effectively.
